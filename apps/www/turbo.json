{
  "$schema": "https://turbo.build/schema.json",
  "extends": ["//"],
  "tasks": {
    "build": {
      "with": ["build:app"]
    },
    "build:app": {
      "dependsOn": ["//#install:modules", "pull:env", "^build"],
      "inputs": [
        "$TURBO_DEFAULT$",
        "!README.md",
        "!**/*.test.*",
        "!jest.config.js",
        "!eslint.config.js",
        "!prettier.config.js",
        "!vercel.json",
        "!**/dist/**"
      ],
      "outputs": [".next/**", "!.next/cache/**"],
      "env": [
        "CLOUDFRONT_BASE_URL",
        "CLOUDFRONT_PRIVATE_KEY",
        "CLOUDFRONT_PUBLIC_KEY_ID",
        "DATABASE_URL",
        "VERCEL_ENV"
      ]
    },
    "build:next-types": {
      "dependsOn": ["//#install:modules", "^build"],
      "inputs": [
        "$TURBO_DEFAULT$",
        "!README.md",
        "!**/*.test.*",
        "!jest.config.js",
        "!eslint.config.js",
        "!prettier.config.js",
        "!vercel.json",
        "!**/dist/**"
      ]
    },

    "fix:lint": {
      "dependsOn": ["//#install:modules", "build:next-types"]
    },

    "test:types": {
      "dependsOn": ["//#install:modules", "build:next-types"]
    }
  }
}
